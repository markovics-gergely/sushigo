<mat-card class="card">
  <div class="title">{{ "home.user.title" | translate }}</div>
  <mat-card-header>
    <div class="avatar" *ngIf="user">
      <img
        *ngIf="!user.avatarLoaded"
        mat-card-xl-image
        src="https://placehold.co/240x240?text=Sushi"
        alt="avatar"
      />
      <img
        *ngIf="user.avatar"
        mat-card-xl-image
        [src]="user.avatar | imgPath"
        alt="avatar"
        (load)="user.avatarLoaded = true"
        [ngStyle]="user.avatarLoaded ? {} : { display: 'none' }"
      />
    </div>
    <mat-card-title-group class="title-group">
      <mat-card-title>
        <div class="name">{{ "home.user.username" | translate }}</div>
        <div class="value" *ngIf="user">{{ user.userName }}</div>
      </mat-card-title>
      <mat-card-subtitle>
        <div class="name">{{ "home.user.name" | translate }}</div>
        <div class="value" *ngIf="user" [matTooltip]="user.name">
          {{ user.name }}
        </div>
      </mat-card-subtitle>
      <mat-card-subtitle>
        <div class="name">{{ "home.user.email" | translate }}</div>
        <div class="value" *ngIf="user" [matTooltip]="user.email">
          {{ user.email }}
        </div>
      </mat-card-subtitle>
      <mat-card-subtitle *ngIf="user">
        {{ "home.user.exp" | translate : { points: user.experience } }}
      </mat-card-subtitle>
      <mat-card-subtitle *ngIf="user">
        {{ "home.user." + (partyClaimed ? "party" : "classic") | translate }}
      </mat-card-subtitle>
    </mat-card-title-group>
  </mat-card-header>
  <mat-card-content><mat-divider></mat-divider></mat-card-content>
  <mat-card-actions>
    <button mat-flat-button color="warn" (click)="logout()">
      {{ "home.user.logout" | translate }}
    </button>
    <button mat-flat-button color="accent" (click)="edit()">
      {{ "home.user.edit" | translate }}
    </button>
    <button
      mat-flat-button
      color="primary"
      *can="'CanClaimParty'"
      (click)="claimParty()"
    >
      {{ "home.user.claim-party" | translate }}
    </button>
  </mat-card-actions>
</mat-card>
